/**
 * Simpletooltip is a JQuery plugin, thought to insert short tooltips to any element of your website more easily
 * v1.3.0
 *
 * 2014 Carlos Sanz Garcia
 * Distributed under GPL-3.0 license
 *
 * http://not-only-code.github.com/Simpletooltip
 */

!function(e){var t,n=null;t=function(e){return void 0!==e&&"object"==typeof e&&(this.$el=e.$el||null,this.$tooltip=null,this.$arrow=null,this.margins={border:6,top:15,right:15,bottom:15,left:15},this.settings={},this.themes={},this.isJqueryObject(this.$el)&&!this.$el.data().hasOwnProperty("simpletooltipInstanced")&&(this.title=this.$el.attr("title"),void 0!==this.title&&this.title.length))?(this.$el.attr("title",""),this.setOptions(e.settings),this.setTooltip(),this.initialize(),this.$el.data("simpletooltip-instanced","1"),this):void 0},t.defaults={position:"top",color:"#DDDDDD",background_color:"#222222",border_width:0,arrow_width:6,padding:{width:8,height:6},max_width:200,fade:!0},t.themes={dark:{color:"#CCCCCC",background_color:"#222222",border_color:"#111111",border_width:4},gray:{color:"#434343",background_color:"#DCDCDC",border_color:"#BABABA",border_width:4},white:{color:"#6D7988",background_color:"#CCDEF2",border_color:"#FFFFFF",border_width:4},blue:{color:"#FFFFFF",background_color:"#0088BE",border_color:"#00669C",border_width:4}},t.templates={tooltip:'<div class="simple-tooltip"></div>',arrow:'<span class="arrow">&nbsp;</span>'},t.prototype.isJqueryObject=function(e){return null!==e&&void 0!==e&&"object"==typeof e&&void 0!==e.jquery},t.prototype.setTooltip=function(){return this.isJqueryObject(this.$tooltip)&&this.isJqueryObject(this.$arrow)?void 0:(this.$tooltip=e(t.templates.tooltip),this.$tooltip.html(this.title),this.$tooltip.addClass(this.getAttribute("position")),this.$arrow=e(t.templates.arrow),this.$tooltip.append(this.$arrow),this.$tooltip)},t.prototype.setOptions=function(n){void 0!==n&&"object"==typeof n&&(this.settings=e.extend(t.defaults,n),void 0!==this.settings.themes&&"object"==typeof this.settings.themes&&(this.themes=e.extend(t.themes,this.settings.themes),delete this.settings.themes),void 0!==this.themes[this.settings.theme]&&(this.settings=e.extend(this.settings,this.themes[this.settings.theme])))},t.prototype.initialize=function(){this.$el.on("mouseenter",{that:this},this.mouseOver),this.$el.on("mouseleave",{that:this},this.mouseOut),this.$el.attr("title","")},t.prototype.getAttribute=function(e){var t,n="simpletooltip-"+e.replace("_","-");return void 0!==this.$el.data(n)?this.$el.data(n):void 0!==(t=this.$el.data("simpletooltip-theme"))&&void 0!==this.themes[t]&&void 0!==this.themes[t][e]?this.themes[t][e]:void 0!==this.settings[e]?this.settings[e]:!1},t.prototype.mouseOver=function(e){var t=e.data.that;return t.$tooltip.parent().length?e:(n.append(t.$tooltip),t.$tooltip.hide(),t.styleTooltip(),t.getAttribute("fade")?t.$tooltip.delay(180).fadeIn(200):t.$tooltip.show(),e)},t.prototype.mouseOut=function(e){var t=e.data.that;return t.$tooltip.parent().length?t.$tooltip.css("opacity")?(t.getAttribute("fade")?t.$tooltip.clearQueue().stop().fadeOut(100,function(){t.$tooltip.remove()}):t.$tooltip.remove(),e):(t.$tooltip.remove(),e):e},t.prototype.styleTooltip=function(){if(this.isJqueryObject(this.$el)&&this.isJqueryObject(this.$tooltip)){var t=this.$el.offset(),n=this.getAttribute("background_color"),r=this.getAttribute("border_color");this.isJqueryObject(this.$arrow)||(this.$arrow=this.$tooltip.find(" > .arrow"));var i=this.getAttribute("border_width");i=r&&"boolean"!=typeof i&&"none"!==i?Number(i):0;var s=i&&r?r:n,o=Math.round(3*this.settings.arrow_width/4),u=-parseInt(2*this.settings.arrow_width+i,10),f=-parseInt(2*o+i,10),l={maxWidth:this.getAttribute("max_width"),backgroundColor:n,color:this.getAttribute("color"),borderColor:r,borderWidth:i};switch(this.getAttribute("position")){case"top-right":t.top-=parseInt(this.$tooltip.outerHeight()+this.margins.bottom,10),t.left+=parseInt(this.$el.outerWidth()-this.margins.right-this.margins.border,10),this.$arrow.css({left:this.settings.padding.width-i,borderWidth:o,bottom:f,borderTopColor:s,borderLeftColor:s});break;case"right-top":t.top-=parseInt(this.$tooltip.outerHeight()-this.margins.bottom,10),t.left+=parseInt(this.$el.outerWidth()+this.margins.right,10),this.$arrow.css({bottom:this.settings.padding.height-i,borderWidth:o,left:f,borderRightColor:s,borderBottomColor:s});break;case"right":t.top+=parseInt((this.$el.outerHeight()-this.$tooltip.outerHeight())/2,10),t.left+=parseInt(this.$el.outerWidth()+this.margins.right,10),this.$arrow.css({left:u,borderRightColor:s,marginTop:-this.settings.arrow_width});break;case"right-bottom":t.top+=parseInt(this.$el.outerHeight()-this.margins.bottom,10),t.left+=parseInt(this.$el.outerWidth()+this.margins.right,10),this.$arrow.css({top:this.settings.padding.height-i,borderWidth:o,left:f,borderRightColor:s,borderTopColor:s});break;case"bottom-right":t.top+=parseInt(this.$el.outerHeight()+this.margins.bottom,10),t.left+=parseInt(this.$el.outerWidth()-this.margins.right-this.margins.border,10),this.$arrow.css({left:this.settings.padding.width-i,borderWidth:o,top:f,borderBottomColor:s,borderLeftColor:s});break;case"bottom":t.top+=parseInt(this.$el.outerHeight()+this.margins.bottom,10),t.left+=parseInt((this.$el.outerWidth()-this.$tooltip.outerWidth())/2,10),this.$arrow.css({top:u,marginLeft:-this.settings.arrow_width,borderBottomColor:s});break;case"bottom-left":t.top+=parseInt(this.$el.outerHeight()+this.margins.bottom,10),t.left-=parseInt(this.$tooltip.outerWidth()-this.margins.left-this.margins.border,10),this.$arrow.css({right:this.settings.padding.width-i,borderWidth:o,top:f,borderBottomColor:s,borderRightColor:s});break;case"left-bottom":t.top+=parseInt(this.$el.outerHeight()-this.margins.bottom,10),t.left-=parseInt(this.$tooltip.outerWidth()+this.margins.left,10),this.$arrow.css({top:this.settings.padding.height-i,borderWidth:o,right:f,borderLeftColor:s,borderTopColor:s});break;case"left":t.top+=parseInt((this.$el.outerHeight()-this.$tooltip.outerHeight())/2,10),t.left-=parseInt(this.$tooltip.outerWidth()+this.margins.left,10),this.$arrow.css({right:u,borderLeftColor:s,marginTop:-this.settings.arrow_width});break;case"left-top":t.top-=parseInt(this.$tooltip.outerHeight()-this.margins.bottom,10),t.left-=parseInt(this.$tooltip.outerWidth()+this.margins.left,10),this.$arrow.css({bottom:this.settings.padding.height-i,borderWidth:o,right:f,borderLeftColor:s,borderBottomColor:s});break;case"top-left":t.top-=parseInt(this.$tooltip.outerHeight()+this.margins.bottom,10),t.left-=parseInt(this.$tooltip.outerWidth()-this.margins.left,10),this.$arrow.css({right:this.settings.padding.width-i,borderWidth:o,bottom:f,borderTopColor:s,borderRightColor:s});break;default:t.top-=parseInt(this.$tooltip.outerHeight()+this.margins.top,10),t.left+=parseInt((this.$el.outerWidth()-this.$tooltip.outerWidth())/2,10),this.$arrow.css({bottom:u,borderTopColor:s,marginLeft:-this.settings.arrow_width})}this.$tooltip.css(e.extend(l,{top:t.top,left:t.left}))}},e.fn.simpletooltip=function(n){return this.each(function(){var r=e(this);if(!r.data().hasOwnProperty("simpletooltipInstanced")){var i={$el:r};void 0!==n&&"object"==typeof n&&(i.settings=n),new t(i)}})},e(window).on("load",function(){n=e("body"),e('[data-simpletooltip="init"]').each(function(){e(this).simpletooltip()})})}(jQuery);