/*!
 * Isotope PACKAGED v2.0.0
 * Filter & sort magical layouts
 * http://isotope.metafizzy.co
 */

/*!
Waypoints - 3.1.1
Copyright © 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
*/

/*
 * jQuery Browser Plugin 0.0.6
 * https://github.com/gabceb/jquery-browser-plugin
 *
 * Original jquery-browser code Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * http://jquery.org/license
 *
 * Modifications Copyright 2014 Gabriel Cebrian
 * https://github.com/gabceb
 *
 * Released under the MIT license
 */

// http://paulirish.com/2011/requestanimationframe-for-smart-animating/ + http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating
// requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel. can be removed if IE9 is no longer supported or all parallax scripts are gone MIT license

(function(e){function t(t,n){var r=this,i=e.proxy(r.process,r),s=e.proxy(r.refresh,r),o=e(t).is("body")?e(window):e(t),u;r.$body=e("body"),r.$win=e(window),r.options=e.extend({},e.fn.avia_scrollspy.defaults,n),r.selector=r.options.target||(u=e(t).attr("href"))&&u.replace(/.*(?=#[^\s]+$)/,"")||"",r.activation_true=!1,r.$body.find(r.selector+"[href*=#]").length&&(r.$scrollElement=o.on("scroll.scroll-spy.data-api",i),r.$win.on("av-height-change",s),r.$body.on("av_resize_finished",s),r.activation_true=!0,r.checkFirst(),setTimeout(function(){r.refresh(),r.process()},100))}function n(){var t=e(window),n=e("html.av-preloader-active"),r;if(n.length){var i=function(){r.avia_animate({opacity:0},function(){n.removeClass("av-preloader-active")})};r=e(".av-siteloader-wrap"),setTimeout(function(){e.avia_utilities.preload({container:n,global_callback:i}),setTimeout(function(){n.is(".av-preloader-active")&&(i(),e.avia_utilities.log("Hide Preloader (Fallback)"))},4e3);if(r.is(".av-transition-enabled")){var t=new RegExp(location.host),s=" .no-transition, .mfp-iframe, .lightbox-added, .grid-links-ajax a, #menu-item-search a";n.on("click","a:not("+s+")",function(e){if(!e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.shiftKey){var i=this;t.test(i.href)&&i.href.split("#")[0]!=location.href.split("#")[0]&&i.target==""&&i.href.indexOf("mailto:")==-1&&i.href.indexOf("add-to-cart=")==-1&&(e.preventDefault(),n.addClass("av-preloader-active av-preloader-reactive"),r.avia_animate({opacity:1},function(){window.location=i.href}))}})}},500)}}function r(t){if(typeof e.browser!="undefined"){var n="",r=e.browser.version?parseInt(e.browser.version):"";e.browser.msie?n+="avia-msie":e.browser.webkit?n+="avia-webkit":e.browser.mozilla&&(n+="avia-mozilla"),e.browser.version&&(n+=" "+n+"-"+r+" "),e.browser.name&&(n+=" avia-"+e.browser.name+" avia-"+e.browser.name+"-"+r+" "),e.browser.ipad?n+=" avia-ipad ":e.browser.iphone?n+=" avia-iphone ":e.browser.android?n+=" avia-android ":e.browser.win?n+=" avia-windows ":e.browser.mac?n+=" avia-mac ":e.browser.linux&&(n+=" avia-linux ")}return t&&e(t).addClass(n),n}function i(){var t=e("html"),n=e(window),r=e(".responsive #header");if(!r.length)return;var i=r.find(".main_menu ul:eq(0)"),s=i.find(">li").length,o=e("html").is(".html_bottom_nav_header"),u=e("#wrap_all"),a=e("#advanced_menu_toggle"),f=e("#advanced_menu_hide"),l=i.clone().attr({id:"mobile-advanced","class":""}),c=t.is(".html_header_mobile_behavior"),h=function(){if(s==0)a.remove();else{var t=e("#header .logo");a.insertAfter(t),l.find(".noMobile").remove(),l.prependTo(u),f.prependTo(u)}},p=function(){var e=l.outerHeight(!0),t=n.height();e<t&&(e=t),u.css({height:e}),l.css({position:"absolute","min-height":t})},d=function(){return u.removeClass("show_mobile_menu"),setTimeout(function(){u.css({height:"auto",overflow:"hidden",minHeight:0}),l.css({display:"none"})},600),!1},v=function(){u.is(".show_mobile_menu")&&f.css("display")=="none"&&d()},m=function(){return u.is(".show_mobile_menu")?d():(n.scrollTop(0),l.css({display:"block"}),setTimeout(function(){u.addClass("show_mobile_menu")},10),p()),!1};t.on("click","#mobile-advanced li a, #mobile-advanced .mega_menu_title",function(){var t=e(this);if(c){var n=t.siblings("ul, .avia_mega_div");t.siblings("ul").children(".avia_mega_text_block").length&&t.siblings("ul").children("li").length==1&&(n="");if(n.length)return n.hasClass("visible_sublist")?n.removeClass("visible_sublist"):n.addClass("visible_sublist"),p(),!1}t.filter("[href*=#]").length&&(u.removeClass("show_mobile_menu"),u.css({height:"auto"}))}),a.click(m),f.click(d),n.on("debouncedresize",v),h()}function s(t){if(e.avia_utilities.isMobile)return;var n="",r=e.avia_utilities.supports("transition");if(t=="body")var i=e("#main a img").parents("a").not(".noLightbox, .noLightbox a, .avia-gallery-thumb a, .avia-layerslider a, .noHover, .noHover a").add("#main .avia-hover-fx");else var i=e("a img",t).parents("a").not(".noLightbox, .noLightbox a, .avia-gallery-thumb a, .avia-layerslider a, .noHover, .noHover a").add(".avia-hover-fx",t);i.each(function(t){var n=e(this),s=n.find("img:first");s.hasClass("alignleft")&&n.addClass("alignleft").css({"float":"left",margin:0,padding:0}),s.hasClass("alignright")&&n.addClass("alignright").css({"float":"right",margin:0,padding:0}),s.hasClass("aligncenter")&&n.addClass("aligncenter").css({"float":"none","text-align":"center",margin:0,padding:0}),s.hasClass("alignnone")&&(n.addClass("alignnone").css({margin:0,padding:0}),(!n.css("display")||n.css("display")=="inline")&&n.css({display:"inline-block"})),(!n.css("position")||n.css("position")=="static")&&n.css({position:"relative",overflow:"hidden"});var o=n.attr("href"),u="overlay-type-video",a=n.data("opacity")||.7,f=5,l=n.find(".image-overlay");o&&(o.match(/(jpg|gif|jpeg|png|tif)/)&&(u="overlay-type-image"),o.match(/(jpg|gif|jpeg|png|\.tif|\.mov|\.swf|vimeo\.com|youtube\.com)/)||(u="overlay-type-extern")),l.length||(l=e("<span class='image-overlay "+u+"'></span>").appendTo(n)),n.on("mouseenter",function(t){var i=n.find("img:first"),s=i.get(0),o=i.outerHeight(),l=i.outerWidth(),c=i.position(),h=n.css("display"),p=n.find(".image-overlay");o>100?(p.length||(p=e("<span class='image-overlay "+u+"'></span>").appendTo(n)),n.height()==0&&(n.addClass(s.className),s.className=""),(!h||h=="inline")&&n.css({display:"block"}),p.css({left:c.left-f+parseInt(i.css("margin-left"),10),top:c.top+parseInt(i.css("margin-top"),10)}).css({overflow:"hidden",display:"block",height:o,width:l+2*f}),r===!1&&p.stop().animate({opacity:a},400)):p.css({display:"none"})}).on("mouseleave",i,function(){l.length&&r===!1&&l.stop().animate({opacity:0},400)})})}function o(e){var t=jQuery('iframe[src*="youtube.com"]:not(.av_youtube_frame)',e),n=jQuery('iframe[src*="youtube.com"]:not(.av_youtube_frame) object, iframe[src*="youtube.com"]:not(.av_youtube_frame) embed',e).attr("wmode","opaque");t.each(function(){var e=jQuery(this),t=e.attr("src");t&&(t.indexOf("?")!==-1?t+="&wmode=opaque":t+="?wmode=opaque",e.attr("src",t))})}function u(e){e||(e=document);var t=jQuery(window),n=jQuery(".avia-iframe-wrap iframe:not(.avia-slideshow iframe):not( iframe.no_resize):not(.avia-video iframe)",e),r=function(){n.each(function(){var e=jQuery(this),t=e.parent(),n=56.25;this.width&&this.height&&(n=100/this.width*this.height,t.css({"padding-bottom":n+"%"}))})};r()}function a(){var t=e(window),n=e("html:first"),r=e(".html_header_top.html_header_sticky #header"),i=parseInt(e("html:first").css("margin-top"),10),s=e(".html_header_sidebar #main, .boxed #main"),o=e(".av-submenu-container"),u=n.is(".html_minimal_header")?0:1,a=function(){i=parseInt(n.css("margin-top"),10),e(".mobile_menu_toggle:visible").length||e(".av-open-submenu").removeClass("av-open-submenu")},f=function(){var e=s.width();i=parseInt(n.css("margin-top"),10),o.width(e)},l=function(e,n){var s=this.offset().top,o=e.offset().top,a=t.scrollTop(),f=i,l=!1;r.length&&(f+=r.outerHeight()+parseInt(r.css("margin-top"),10)),a+f>o?l||(this.css({top:f-u,position:"fixed"}),l=!0):(this.css({top:"auto",position:"absolute"}),l=!1)},c=function(t){t.preventDefault();var n=e(this),r=n.siblings(".av-subnav-menu");r.hasClass("av-open-submenu")?r.removeClass("av-open-submenu"):r.addClass("av-open-submenu")};t.on("debouncedresize av-height-change",a),a(),s.length&&(t.on("debouncedresize av-height-change",f),f()),e(".av-sticky-submenu").each(function(){var n=e(this),r=n.next(".sticky_placeholder"),i=n.find(".mobile_menu_toggle");t.on("scroll",function(){window.requestAnimationFrame(e.proxy(l,n,r))}),i.length&&i.on("click",c)}),n.on("click",".av-submenu-hidden .av-open-submenu li a",function(){var t=e(this),n=t.siblings("ul, .avia_mega_div");if(n.length)return n.hasClass("av-visible-sublist")?n.removeClass("av-visible-sublist"):n.addClass("av-visible-sublist"),!1}),e(".avia_mobile").on("click",".av-menu-mobile-disabled li a",function(){var t=e(this),n=t.siblings("ul");if(n.length&&!n.hasClass("av-visible-mobile-sublist"))return e(".av-visible-mobile-sublist").removeClass("av-visible-mobile-sublist"),n.addClass("av-visible-mobile-sublist"),!1})}function f(){var t=e(window),n=e("#main"),r=e(".html_header_sidebar #header_main"),i=e(".html_header_sidebar #header.av_conditional_sticky");if(!r.length)return;if(!i.length)return;var s=e("#header_main"),o=e("#wrap_all"),u=parseInt(e("html").css("margin-top"),10),a=function(){s.outerHeight()<t.height()?i.addClass("av_always_sticky"):i.removeClass("av_always_sticky"),o.css({"min-height":t.height()-u})};a(),t.on("debouncedresize av-height-change",a)}function l(e,t,n){e[0].classList?t=="add"?e[0].classList.add(n):e[0].classList.remove(n):t=="add"?e.addClass(n):e.removeClass(n)}function c(){var t=e(window),n=e(".html_header_top.html_header_sticky #header"),r=e(".av_header_unstick_top");if(!n.length&&!r.length)return;var i=e("#header_main .container .logo img, #header_main .container .logo a"),s=e("#header_main .container:first, #header_main .main_menu ul:first-child > li > a:not(.avia_mega_div a, #header_main_alternate a), #header_main #menu-item-shop .cart_dropdown_link"),o=e(s).filter(":first").height(),u=e.avia_utilities.isMobile,a=e("#scroll-top-link"),f=n.is(".av_header_transparency"),c=n.is(".av_header_shrinking"),h=n.find("#header_meta").outerHeight(),p=function(){var e=t.scrollTop(),a=0,p=e;r&&(e-=h),e<0&&(e=0),c&&!u&&(e<o/2?(a=o-e,e<=0&&(a=o),l(n,"remove","header-scrolled")):(a=o/2,l(n,"add","header-scrolled")),e-30<o?l(n,"remove","header-scrolled-full"):l(n,"add","header-scrolled-full"),s.css({height:a+"px",lineHeight:a+"px"}),i.css({maxHeight:a+"px"})),r.length&&(e<=0?(p<=0&&(p=0),r.css({"margin-top":"-"+p+"px"})):r.css({"margin-top":"-"+h+"px"})),f&&(e>50?l(n,"remove","av_header_transparency"):l(n,"add","av_header_transparency"))};e("body").is(".avia_deactivate_menu_resize")&&(c=!1);if(!f&&!c&&!r.length)return;t.on("debouncedresize",function(){o=e(s).attr("style","").filter(":first").height(),p()}),t.on("scroll",function(){window.requestAnimationFrame(p)}),p()}function h(){var t=e(window),n=!1,r=e("#scroll-top-link"),i=function(){var e=t.scrollTop();e<500?r.removeClass("avia_pop_class"):r.is(".avia_pop_class")||r.addClass("avia_pop_class")};t.on("scroll",function(){window.requestAnimationFrame(i)}),i()}e(document).ready(function(){var t=r("html");e.avia_utilities=e.avia_utilities||{},/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&"ontouchstart"in document.documentElement?e.avia_utilities.isMobile=!0:e.avia_utilities.isMobile=!1,t.indexOf("avia-msie-7")==-1&&i(),c(),f(),a(),h(),n(),new e.AviaTooltip({"class":"avia-search-tooltip",data:"avia-search-tooltip",event:"click",position:"bottom",scope:"body",attach:"element"}),new e.AviaTooltip({"class":"avia-related-tooltip",data:"avia-related-tooltip",scope:".related_posts, .av-share-box",attach:"element",delay:0}),new e.AviaAjaxSearch({scope:"#header"}),e.fn.avia_iso_sort&&e(".grid-sort-container").avia_iso_sort(),e.fn.aviaMegamenu&&e(".main_menu .menu").aviaMegamenu({modify_position:!0}),e.avia_utilities.avia_ajax_call()}),e.avia_utilities=e.avia_utilities||{},e.avia_utilities.avia_ajax_call=function(t){typeof t=="undefined"&&(t="body"),e("a.avianolink").on("click",function(e){e.preventDefault()}),e("a.aviablank").attr("target","_blank"),e(t).avia_activate_lightbox(),e.fn.avia_scrollspy&&(t=="body"?e("body").avia_scrollspy({target:".main_menu .menu li > a"}):e("body").avia_scrollspy("refresh")),e.fn.avia_smoothscroll&&e("a[href*=#]",t).avia_smoothscroll(t),u(t),s(t),o(t),e.fn.avia_html5_activation&&e.fn.mediaelementplayer&&e(".avia_video, .avia_audio",t).avia_html5_activation({ratio:"16:9"})},e.avia_utilities.log=function(e,t,n){if(typeof console=="undefined")return;typeof t=="undefined"&&(t="log"),t="AVIA-"+t.toUpperCase(),console.log("["+t+"] "+e),typeof n!="undefined"&&console.log(n)},t.prototype={constructor:t,checkFirst:function(){var e=window.location.href.split("#")[0],t=this.$body.find(this.selector+"[href='"+e+"']").attr("href",e+"#top")},refresh:function(){if(!this.activation_true)return;var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var n=e(this),r=n.data("target")||n.attr("href"),i=this.hash,i=i.replace(/\//g,""),s=/^#\w/.test(i)&&e(i);return s&&s.length&&[[s.position().top+(!e.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){if(!this.offsets)return;isNaN(this.options.offset)&&(this.options.offset=0);var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent("."+this.options.applyClass).removeClass(this.options.applyClass),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass(this.options.applyClass),n.parent(".sub-menu").length&&(n=n.closest("li.dropdown_ul_available").addClass(this.options.applyClass)),n.trigger("activate")}},e.fn.avia_scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.avia_scrollspy.Constructor=t,e.fn.avia_scrollspy.defaults={offset:parseInt(e(".html_header_sticky #main").data("scroll-offset"),10)+e(".html_header_sticky #header_main_alternate").outerHeight()+e(".html_header_sticky.html_header_unstick_top_disabled #header_meta").outerHeight()+1+parseInt(e("html").css("margin-top"),10),applyClass:"current-menu-item"},e.fn.avia_html5_activation=function(t){var n={ratio:"16:9"},t=e.extend(n,t),r=e.avia_utilities.isMobile;this.each(function(){var t=e(this),n="#"+t.attr("id"),r=t.attr("poster");t.mediaelementplayer({defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,audioWidth:400,audioHeight:30,startVolume:.8,loop:!1,enableAutosize:!1,features:["playpause","progress","current","duration","tracks","volume"],alwaysShowControls:!1,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,enableKeyboard:!0,pauseOtherPlayers:!1,poster:r,success:function(e,n){setTimeout(function(){e.pluginType=="flash"?e.addEventListener("canplay",function(){t.trigger("av-mediajs-loaded")},!1):t.trigger("av-mediajs-loaded").addClass("av-mediajs-loaded"),e.addEventListener("ended",function(){t.trigger("av-mediajs-ended")},!1)},10)},error:function(){},keyActions:[]})})},function(e){e.fn.avia_smoothscroll=function(t){if(!this.length)return;var n=e(window),r=e("#header"),i=e(".html_header_top.html_header_sticky #main").not(".page-template-template-blank-php #main"),s=e(".html_header_top.html_header_unstick_top_disabled #header_meta"),o=e(".html_header_top #header_main_alternate"),u=e(".html_header_top.html_header_shrinking").length,a=0,f=e.avia_utilities.isMobile,l=e(".sticky_placeholder:first"),c=function(){if(r.css("position")=="fixed"){var t=parseInt(i.data("scroll-offset"),10)||0,n=parseInt(s.outerHeight(),10)||0,f=parseInt(o.outerHeight(),10)||0;t>0&&u?t=t/2+n+f:t=t+n+f,t+=parseInt(e("html").css("margin-top"),10),a=t}else a=parseInt(e("html").css("margin-top"),10)};f&&(u=!1),c(),n.on("debouncedresize av-height-change",c);var h=window.location.hash.replace(/\//g,"");if(a>0&&h&&t=="body"&&h.charAt(1)!="!"&&h.indexOf("=")===-1){var p=e(h),d=0;p.length&&n.on("scroll.avia_first_scroll",function(){setTimeout(function(){l.length&&p.offset().top>l.offset().top&&(d=l.outerHeight()-3),n.off("scroll.avia_first_scroll").scrollTop(p.offset().top-a-d)},10)})}return this.each(function(){e(this).click(function(t){var r=this.hash.replace(/\//g,""),i=e(this),s=i.data();if(r!=""&&r!="#"&&r!="#prev"&&r!="#next"&&!i.is(".comment-reply-link, #cancel-comment-reply-link, .no-scroll")){var o="",u="";"#next-section"==r?(u=r,o=i.parents(".container_wrap:eq(0)").nextAll(".container_wrap:eq(0)"),r="#"+o.attr("id")):o=e(this.hash.replace(/\//g,""));if(o.length){var f=n.scrollTop(),c=o.offset().top,h=c-a,p=window.location.hash,p=p.replace(/\//g,""),d=window.location.href.replace(p,""),v=this,m=s.duration||1200,g=s.easing||"easeInOutQuint";l.length&&c>l.offset().top&&(h-=l.outerHeight()-3);if(d+r==v||u)f!=h&&(f==0&&h<=0||e("html:not(:animated),body:not(:animated)").animate({scrollTop:h},m,g,function(){window.history.replaceState&&window.history.replaceState("","",r)})),t.preventDefault()}}})})}}(jQuery),function(e){e.fn.avia_activate_lightbox=function(t){var n={groups:[".avia-slideshow",".avia-gallery",".isotope",".post-entry",".sidebar","#main",".main_menu"],autolinkElements:'a.lightbox, a[rel^="prettyPhoto"], a[rel^="lightbox"], a[href$=jpg], a[href$=png], a[href$=gif], a[href$=jpeg], a[href*=".jpg?"], a[href*=".png?"], a[href*=".gif?"], a[href*=".jpeg?"], a[href$=".mov"] , a[href$=".swf"] , a:regex(href, .vimeo.com/[0-9]) , a[href*="youtube.com/watch"] , a[href*="screenr.com"], a[href*="iframe=true"]',videoElements:'a[href$=".mov"] , a[href$=".swf"] , a:regex(href, .vimeo.com/[0-9]) , a[href*="youtube.com/watch"] , a[href*="screenr.com"], a[href*="iframe=true"]',exclude:'.noLightbox, .noLightbox a, .fakeLightbox, .lightbox-added, a[href*="dropbox.com"]'},r=e.extend({},n,t),i={type:"image",mainClass:"avia-popup mfp-zoom-in",tLoading:"",tClose:"",removalDelay:300,closeBtnInside:!0,closeOnContentClick:!0,midClick:!0,fixedContentPos:!1,image:{titleSrc:function(e){var t=e.el.attr("title");return t||(t=e.el.find("img").attr("title")),t||(t=e.el.parent().next(".wp-caption-text").html()),typeof t=="undefined"?"":t}},gallery:{tPrev:"",tNext:"",tCounter:"%curr% / %total%",enabled:!0,preload:[1,1]},callbacks:{open:function(){e.magnificPopup.instance.next=function(){var t=this;t.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){e.magnificPopup.proto.next.call(t)},120)},e.magnificPopup.instance.prev=function(){var t=this;t.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){e.magnificPopup.proto.prev.call(t)},120)}},imageLoadComplete:function(){var e=this;setTimeout(function(){e.wrap.addClass("mfp-image-loaded")},16)}}},s=!e("html").is(".av-custom-lightbox");return s?this.each(function(){var t=e(this),n=e(r.videoElements,this).not(r.exclude).addClass("mfp-iframe"),s=!t.is("body")&&!t.is(".ajax_slide");for(var o=0;o<r.groups.length;o++)e(r.groups[o]).each(function(){var t=e(r.autolinkElements,this);s&&t.removeClass("lightbox-added"),t.not(r.exclude).addClass("lightbox-added").magnificPopup(i)})}):this}}(jQuery),function(e){e.fn.aviaMegamenu=function(t){var n={modify_position:!0,delay:300},r=e.extend(n,t),i=e(window),s=e("html").is(".html_header_sidebar")?"#main":"#header",o=e(s+" .container:first"),u=e("<style type='text/css' id='av-browser-width-mm'></style>").appendTo("head:first"),a=function(){var t="",n=Math.round(o.width());t+=" #header .three.units{width:"+n*.25+"px;}",t+=" #header .six.units{width:"+n*.5+"px;}",t+=" #header .nine.units{width:"+n*.75+"px;}",t+=" #header .twelve.units{width:"+n+"px;}";try{u.text(t)}catch(r){u.remove(),u=e("<style type='text/css' id='av-browser-width-mm'>"+t+"</style>").appendTo("head:first")}};return e(".avia_mega_div").length>0&&(i.on("debouncedresize",a),a()),this.each(function(){function m(e,t,n,r){i?n.width()>t.left+e.outerWidth()?n.css({left:t.left*-1}):t.left+n.width()>r&&n.css({left:(n.width()-t.left)*-1}):t.left+n.width()<r?n.css({right:-n.outerWidth()+e.outerWidth()}):t.left+n.width()>r&&n.css({right:-h.outerWidth()+(t.left+e.outerWidth())})}function g(e){if(d[e]==1){var t=a.filter(":eq("+e+")").css({overflow:"visible"}).find("div:first"),n=a.filter(":eq("+e+")").find("a:first");v["check"+e]=!0,t.stop().css("display","block").animate({opacity:1},300),t.length&&n.addClass("open-mega-a")}}function y(t){if(d[t]==0){a.filter(":eq("+t+")").find(">a").removeClass("open-mega-a");var n=a.filter(":eq("+t+")"),r=n.find("div:first");r.stop().css("display","block").animate({opacity:0},300,function(){e(this).css("display","none"),n.css({overflow:"hidden"}),v["check"+t]=!1})}}var t=e("html:first"),n=e("#main .container:first"),i=t.filter(".html_menu_left, .html_logo_center").length,s=e.avia_utilities.isMobile,o=e(this),u=o.find(">li:not(.ignore_menu)"),a=u.find(">div").parent().css({overflow:"hidden"}),f=o.find(">.current-menu-item>a, >.current_page_item>a"),l=u.find(">ul").parent(),c=o.parent(),h=o.parents(".main_menu").eq(0),p=c.width(),d={},v=[];f.length||o.find(".current-menu-ancestor:eq(0) a:eq(0), .current_page_ancestor:eq(0) a:eq(0)").parent().addClass("active-parent-item"),t.is(".html_header_top")||(r.modify_position=!1),u.on("click","a",function(){if(this.href==window.location.href+"#"||this.href==window.location.href+"/#")return!1}),u.each(function(){var t=e(this),n=t.position(),i=t.find("div:first").css({opacity:0,display:"none"}),s="";i.length||(s=t.find(">ul").css({display:"none"}));if(i.length||s.length){var o=t.addClass("dropdown_ul_available").find(">a");o.append('<span class="dropdown_available"></span>'),(typeof o.attr("href")!="string"||o.attr("href")=="#")&&o.css("cursor","default").click(function(){return!1})}r.modify_position&&i.length&&t.one("mouseenter",function(){m(t,n,i,p)})}),s&&a.each(function(t){e(this).bind("click",function(){if(v["check"+t]!=1)return!1})}),a.each(function(t){e(this).hover(function(){d[t]=!0,setTimeout(function(){g(t)},r.delay)},function(){d[t]=!1,setTimeout(function(){y(t)},r.delay)})}),l.find("li").andSelf().each(function(){var t=e(this),n=t.find("ul:first"),r=!1;if(n.length){n.css({display:"block",opacity:0,visibility:"hidden"});var i=t.find(">a");i.bind("mouseenter",function(){n.stop().css({visibility:"visible"}).animate({opacity:1})}),t.bind("mouseleave",function(){n.stop().animate({opacity:0},function(){n.css({visibility:"hidden"})})})}})})}}(jQuery),e.fn.avia_iso_sort=function(t){return this.each(function(){function l(){n.addClass("isotope_activated").isotope({layoutMode:"fitRows",itemSelector:".flex_column"}),n.isotope("on","layoutComplete",function(){n.css({overflow:"visible"}),t.trigger("av_resize_finished")}),a=!0,setTimeout(function(){i.addClass("avia_sortable_active")},0)}var t=e("body"),n=e(this),r=n.data("portfolio-id"),i=n.parents(".entry-content-wrapper, .avia-fullwidth-portfolio"),s=i.find('.sort_width_container[data-portfolio-id="'+r+'"]').find("#js_sort_items").css({visibility:"visible",opacity:0}),o=s.find("a"),u=n.find(".grid-image"),a=!1,f=e(".post-entry",n);o.bind("click",function(){var t=e(this),r=t.data("filter"),s=t.html(),u=i.find(".av-current-sort-title");return u.length&&u.html(s),o.removeClass("active_sort"),t.addClass("active_sort"),n.attr("id","grid_id_"+r),i.find(".open_container .ajax_controlls .avia_close").trigger("click"),n.isotope({layoutMode:"fitRows",itemSelector:".flex_column",filter:"."+r}),!1}),e(window).on("debouncedresize",function(){l()}),e.avia_utilities.preload({container:n,single_callback:function(){s.animate({opacity:1},400),l(),setTimeout(function(){l()}),u.css({height:"auto"}).each(function(t){var n=e(this);setTimeout(function(){n.animate({opacity:1},1500)},100*t)})}})})},e.AviaAjaxSearch=function(t){var n={delay:300,minChars:3,scope:"body"};this.options=e.extend({},n,t),this.scope=e(this.options.scope),this.timer=!1,this.lastVal="",this.bind_events()},e.AviaAjaxSearch.prototype={bind_events:function(){this.scope.on("keyup",'#s:not(".av_disable_ajax_search #s")',e.proxy(this.try_search,this))},try_search:function(t){clearTimeout(this.timer),t.currentTarget.value.length>=this.options.minChars&&this.lastVal!=e.trim(t.currentTarget.value)&&(this.timer=setTimeout(e.proxy(this.do_search,this,t),this.options.delay))},do_search:function(t){var n=this,r=e(t.currentTarget).attr("autocomplete","off"),i=r.parents("form:eq(0)"),s=i.find(".ajax_search_response"),o=e('<div class="ajax_load"><span class="ajax_load_inner"></span></div>'),u=i.attr("action"),a=i.serialize();a+="&action=avia_ajax_search",u.indexOf("?")!=-1&&(u=u.split("?"),a+="&"+u[1]),s.length||(s=e('<div class="ajax_search_response"></div>').appendTo(i));if(s.find(".ajax_not_found").length&&t.currentTarget.value.indexOf(this.lastVal)!=-1)return;this.lastVal=t.currentTarget.value,e.ajax({url:avia_framework_globals.ajaxurl,type:"POST",data:a,beforeSend:function(){o.insertAfter(r)},success:function(e){e==0&&(e=""),s.html(e)},complete:function(){o.remove()}})}},e.AviaTooltip=function(t){var n={delay:1500,delayOut:300,delayHide:0,"class":"avia-tooltip",scope:"body",data:"avia-tooltip",attach:"body",event:"mouseenter",position:"top",extraClass:"avia-tooltip-class",permanent:!1};this.options=e.extend({},n,t),this.body=e("body"),this.scope=e(this.options.scope),this.tooltip=e('<div class="'+this.options["class"]+' avia-tt"></div>'),this.inner=e('<div class="inner_tooltip"></div>').prependTo(this.tooltip),this.open=!1,this.timer=!1,this.active=!1,this.bind_events()},e.AviaTooltip.openTTs=[],e.AviaTooltip.prototype={bind_events:function(){var t=".av-permanent-tooltip [data-"+this.options.data+"]",n="[data-"+this.options.data+"]:not( .av-permanent-tooltip [data-"+this.options.data+"])";this.scope.on("av_permanent_show",t,e.proxy(this.display_tooltip,this)),e(t).addClass("av-perma-tooltip").trigger("av_permanent_show"),this.scope.on(this.options.event+" mouseleave",n,e.proxy(this.start_countdown,this)),this.options.event!="click"?this.scope.on("mouseleave",n,e.proxy(this.hide_tooltip,this)):this.body.on("mousedown",e.proxy(this.hide_tooltip,this))},start_countdown:function(t){clearTimeout(this.timer);if(t.type==this.options.event){var n=this.options.event=="click"?0:this.open?0:this.options.delay;this.timer=setTimeout(e.proxy(this.display_tooltip,this,t),n)}else t.type=="mouseleave"&&(this.timer=setTimeout(e.proxy(this.stop_instant_open,this,t),this.options.delayOut));t.preventDefault()},reset_countdown:function(e){clearTimeout(this.timer),this.timer=!1},display_tooltip:function(t){var n=this.options.event=="click"?t.target:t.currentTarget,r=e(n),i=r.data(this.options.data),s=r.data("avia-created-tooltip"),o=r.data("avia-tooltip-class"),u=this.options.attach=="element"?r:this.body,a=this.options.attach=="element"?r.position():r.offset(),f=r.data("avia-tooltip-position"),l=r.data("avia-tooltip-alignment"),c=!1;i=e.trim(i),r.is(".av-perma-tooltip")&&(a={top:0,left:0},u=r,c=!0);if(i=="")return;if(f==""||typeof f=="undefined")f=this.options.position;if(l==""||typeof l=="undefined")l="center";typeof s!="undefined"?s=e.AviaTooltip.openTTs[s]:(this.inner.html(i),s=this.tooltip.clone(),this.options.attach=="element"&&c!==!0?s.insertAfter(u):s.appendTo(u),o!=""&&s.addClass(o)),this.open=!0,this.active=s;if(s.is(":animated:visible")&&t.type=="click"||r.is("."+this.options["class"])||r.parents("."+this.options["class"]).length!=0)return;var h={},p={},d="",v="";if(f=="top"||f=="bottom")switch(l){case"left":v=a.left;break;case"right":v=a.left+r.outerWidth()-s.outerWidth();break;default:v=a.left+r.outerWidth()/2-s.outerWidth()/2}else switch(l){case"top":d=a.top;break;case"bottom":d=a.top+r.outerHeight()-s.outerHeight();break;default:d=a.top+r.outerHeight()/2-s.outerHeight()/2}d=a.top+r.outerHeight(),h={top:d+10,left:v},p={top:d},h.display="block",h.opacity=0,p.opacity=1,s.css(h).stop().animate(p,200),s.find("input, textarea").focus(),e.AviaTooltip.openTTs.push(s),r.data("avia-created-tooltip",e.AviaTooltip.openTTs.length-1)},hide_tooltip:function(t){var n=e(t.currentTarget),r,i,s=n.data("avia-tooltip-position"),o=n.data("avia-tooltip-alignment");if(s==""||typeof s=="undefined")s=this.options.position;if(o==""||typeof o=="undefined")o="center";this.options.event=="click"?(n=e(t.target),!n.is("."+this.options["class"])&&n.parents("."+this.options["class"]).length==0&&this.active.length&&(r=this.active,this.active=!1)):(r=n.data("avia-created-tooltip"),r=typeof r!="undefined"?e.AviaTooltip.openTTs[r]:!1);if(r){var u={opacity:0};switch(s){case"top":u.top=parseInt(r.css("top"),10)-10;break;case"bottom":u.top=parseInt(r.css("top"),10)+10;break;case"left":u.left=parseInt(r.css("left"),10)-10;break;case"right":u.left=parseInt(r.css("left"),10)+10}r.animate(u,200,function(){r.css({display:"none"})})}},stop_instant_open:function(e){this.open=!1}}})(jQuery),function(e){function t(){}function n(e){function n(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function i(t,n){e.fn[t]=function(i){if("string"==typeof i){for(var u=r.call(arguments,1),a=0,f=this.length;f>a;a++){var l=this[a],c=e.data(l,t);if(c)if(e.isFunction(c[i])&&"_"!==i.charAt(0)){var h=c[i].apply(c,u);if(void 0!==h)return h}else s("no such method '"+i+"' for "+t+" instance");else s("cannot call methods on "+t+" prior to initialization; "+"attempted to call '"+i+"'")}return this}return this.each(function(){var r=e.data(this,t);r?(r.option(i),r._init()):(r=new n(this,i),e.data(this,t,r))})}}if(e){var s="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){n(t),i(e,t)},e.bridget}}var r=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):n(e.jQuery)}(window),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,r=function(){};n.addEventListener?r=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(r=function(e,n,r){e[n+r]=r.handleEvent?function(){var n=t(e);r.handleEvent.call(r,n)}:function(){var n=t(e);r.call(e,n)},e.attachEvent("on"+n,e[n+r])});var i=function(){};n.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=void 0}});var s={bind:r,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",s):"object"==typeof exports?module.exports=s:e.eventie=s}(this),function(e){function t(e){"function"==typeof e&&(t.isReady?e():s.push(e))}function n(e){var n="readystatechange"===e.type&&"complete"!==i.readyState;if(!t.isReady&&!n){t.isReady=!0;for(var r=0,o=s.length;o>r;r++){var u=s[r];u()}}}function r(r){return r.bind(i,"DOMContentLoaded",n),r.bind(i,"readystatechange",n),r.bind(e,"load",n),t}var i=e.document,s=[];t.isReady=!1,"function"==typeof define&&define.amd?(t.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],r)):e.docReady=r(e.eventie)}(this),function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,i=this,s=i.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),s="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(s?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,s=this.getListenersAsObject(e);for(i in s)s.hasOwnProperty(i)&&(r=t(s[i],n),-1!==r&&s[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)s.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?s.call(this,r,i):o.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,s,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)n=o[i][r],n.once===!0&&this.removeListener(e,n.listener),s=n.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=s,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(e){if(e){if("string"==typeof r[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,s=0,u=n.length;u>s;s++)if(t=n[s]+e,"string"==typeof r[t])return t}}var n="Webkit Moz ms Ms O".split(" "),r=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(e){function t(e){var t=parseFloat(e),n=-1===e.indexOf("%")&&!isNaN(t);return n&&t}function n(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,n=o.length;n>t;t++){var r=o[t];e[r]=0}return e}function r(e){function r(e){if("string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=s(e);if("none"===r.display)return n();var i={};i.width=e.offsetWidth,i.height=e.offsetHeight;for(var l=i.isBorderBox=!!f&&!!r[f]&&"border-box"===r[f],c=0,h=o.length;h>c;c++){var d=o[c],v=r[d];v=u(e,v);var m=parseFloat(v);i[d]=isNaN(m)?0:m}var g=i.paddingLeft+i.paddingRight,y=i.paddingTop+i.paddingBottom,b=i.marginLeft+i.marginRight,w=i.marginTop+i.marginBottom,E=i.borderLeftWidth+i.borderRightWidth,S=i.borderTopWidth+i.borderBottomWidth,x=l&&a,T=t(r.width);T!==!1&&(i.width=T+(x?0:g+E));var N=t(r.height);return N!==!1&&(i.height=N+(x?0:y+S)),i.innerWidth=i.width-(g+E),i.innerHeight=i.height-(y+S),i.outerWidth=i.width+b,i.outerHeight=i.height+w,i}}function u(e,t){if(i||-1===t.indexOf("%"))return t;var n=e.style,r=n.left,s=e.runtimeStyle,o=s&&s.left;return o&&(s.left=e.currentStyle.left),n.left=t,t=n.pixelLeft,n.left=r,o&&(s.left=o),t}var a,f=e("boxSizing");return function(){if(f){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[f]="border-box";var n=document.body||document.documentElement;n.appendChild(e);var r=s(e);a=200===t(r.width),n.removeChild(e)}}(),r}var i=e.getComputedStyle,s=i?function(e){return i(e,null)}:function(e){return e.currentStyle},o=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],r):"object"==typeof exports?module.exports=r(require("get-style-property")):e.getSize=r(e.getStyleProperty)}(window),function(e,t){function n(e,t){return e[u](t)}function r(e){if(!e.parentNode){var t=document.createDocumentFragment();t.appendChild(e)}}function i(e,t){r(e);for(var n=e.parentNode.querySelectorAll(t),i=0,s=n.length;s>i;i++)if(n[i]===e)return!0;return!1}function s(e,t){return r(e),n(e,t)}var o,u=function(){if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0,r=e.length;r>n;n++){var i=e[n],s=i+"MatchesSelector";if(t[s])return s}}();if(u){var a=document.createElement("div"),f=n(a,"div");o=f?n:s}else o=i;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return o}):window.matchesSelector=o}(this,Element.prototype),function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){for(var t in e)return!1;return t=null,!0}function r(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function i(e,i,s){function u(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var a=s("transition"),f=s("transform"),l=a&&f,c=!!s("perspective"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[a],p=["transform","transition","transitionDuration","transitionProperty"],d=function(){for(var e={},t=0,n=p.length;n>t;t++){var r=p[t],i=s(r);i&&i!==r&&(e[r]=i)}return e}();t(u.prototype,e.prototype),u.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},u.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},u.prototype.getSize=function(){this.size=i(this.element)},u.prototype.css=function(e){var t=this.element.style;for(var n in e){var r=d[n]||n;t[r]=e[n]}},u.prototype.getPosition=function(){var e=o(this.element),t=this.layout.options,n=t.isOriginLeft,r=t.isOriginTop,i=parseInt(e[n?"left":"right"],10),s=parseInt(e[r?"top":"bottom"],10);i=isNaN(i)?0:i,s=isNaN(s)?0:s;var u=this.layout.size;i-=n?u.paddingLeft:u.paddingRight,s-=r?u.paddingTop:u.paddingBottom,this.position.x=i,this.position.y=s},u.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,n={};t.isOriginLeft?(n.left=this.position.x+e.paddingLeft+"px",n.right=""):(n.right=this.position.x+e.paddingRight+"px",n.left=""),t.isOriginTop?(n.top=this.position.y+e.paddingTop+"px",n.bottom=""):(n.bottom=this.position.y+e.paddingBottom+"px",n.top=""),this.css(n),this.emitEvent("layout",[this])};var v=c?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};u.prototype._transitionTo=function(e,t){this.getPosition();var n=this.position.x,r=this.position.y,i=parseInt(e,10),s=parseInt(t,10),o=i===this.position.x&&s===this.position.y;if(this.setPosition(e,t),o&&!this.isTransitioning)return this.layoutPosition(),void 0;var u=e-n,a=t-r,f={},l=this.layout.options;u=l.isOriginLeft?u:-u,a=l.isOriginTop?a:-a,f.transform=v(u,a),this.transition({to:f,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},u.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},u.prototype.moveTo=l?u.prototype._transitionTo:u.prototype.goTo,u.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},u.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},u.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return this._nonTransition(e),void 0;var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);var r=this.element.offsetHeight;r=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var m=f&&r(f)+",opacity";u.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(h,this,!1))},u.prototype.transition=u.prototype[a?"_transition":"_nonTransition"],u.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},u.prototype.onotransitionend=function(e){this.ontransitionend(e)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};u.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,r=g[e.propertyName]||e.propertyName;if(delete t.ingProperties[r],n(t.ingProperties)&&this.disableTransition(),r in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[r]),r in t.onEnd){var i=t.onEnd[r];i.call(this),delete t.onEnd[r]}this.emitEvent("transitionEnd",[this])}},u.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},u.prototype._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var y={transitionProperty:"",transitionDuration:""};return u.prototype.removeTransitionStyles=function(){this.css(y)},u.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},u.prototype.remove=function(){if(!a||!parseFloat(this.layout.options.transitionDuration))return this.removeElem(),void 0;var e=this;this.on("transitionEnd",function(){return e.removeElem(),!0}),this.hide()},u.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options;this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0})},u.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options;this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},u.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},u}var s=e.getComputedStyle,o=s?function(e){return s(e,null)}:function(e){return e.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],i):(e.Outlayer={},e.Outlayer.Item=i(e.EventEmitter,e.getSize,e.getStyleProperty))}(window),function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){return"[object Array]"===c.call(e)}function r(e){var t=[];if(n(e))t=e;else if(e&&"number"==typeof e.length)for(var r=0,i=e.length;i>r;r++)t.push(e[r]);else t.push(e);return t}function i(e,t){var n=p(t,e);-1!==n&&t.splice(n,1)}function s(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()}function o(n,o,c,p,d,v){function m(e,n){if("string"==typeof e&&(e=u.querySelector(e)),!e||!h(e))return a&&a.error("Bad "+this.constructor.namespace+" element: "+e),void 0;this.element=e,this.options=t({},this.constructor.defaults),this.option(n);var r=++g;this.element.outlayerGUID=r,y[r]=this,this._create(),this.options.isInitLayout&&this.layout()}var g=0,y={};return m.namespace="outlayer",m.Item=v,m.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},t(m.prototype,c.prototype),m.prototype.option=function(e){t(this.options,e)},m.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),t(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},m.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},m.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,r=[],i=0,s=t.length;s>i;i++){var o=t[i],u=new n(o,this);r.push(u)}return r},m.prototype._filterFindItemElements=function(e){e=r(e);for(var t=this.options.itemSelector,n=[],i=0,s=e.length;s>i;i++){var o=e[i];if(h(o))if(t){d(o,t)&&n.push(o);for(var u=o.querySelectorAll(t),a=0,f=u.length;f>a;a++)n.push(u[a])}else n.push(o)}return n},m.prototype.getItemElements=function(){for(var e=[],t=0,n=this.items.length;n>t;t++)e.push(this.items[t].element);return e},m.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},m.prototype._init=m.prototype.layout,m.prototype._resetLayout=function(){this.getSize()},m.prototype.getSize=function(){this.size=p(this.element)},m.prototype._getMeasurement=function(e,t){var n,r=this.options[e];r?("string"==typeof r?n=this.element.querySelector(r):h(r)&&(n=r),this[e]=n?p(n)[t]:r):this[e]=0},m.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},m.prototype._getItemsForLayout=function(e){for(var t=[],n=0,r=e.length;r>n;n++){var i=e[n];i.isIgnored||t.push(i)}return t},m.prototype._layoutItems=function(e,t){function n(){r.emitEvent("layoutComplete",[r,e])}var r=this;if(!e||!e.length)return n(),void 0;this._itemsOn(e,"layout",n);for(var i=[],s=0,o=e.length;o>s;s++){var u=e[s],a=this._getItemLayoutPosition(u);a.item=u,a.isInstant=t||u.isLayoutInstant,i.push(a)}this._processLayoutQueue(i)},m.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},m.prototype._processLayoutQueue=function(e){for(var t=0,n=e.length;n>t;t++){var r=e[t];this._positionItem(r.item,r.x,r.y,r.isInstant)}},m.prototype._positionItem=function(e,t,n,r){r?e.goTo(t,n):e.moveTo(t,n)},m.prototype._postLayout=function(){this.resizeContainer()},m.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},m.prototype._getContainerSize=l,m.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},m.prototype._itemsOn=function(e,t,n){function r(){return i++,i===s&&n.call(o),!0}for(var i=0,s=e.length,o=this,u=0,a=e.length;a>u;u++){var f=e[u];f.on(t,r)}},m.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},m.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},m.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,n=e.length;n>t;t++){var r=e[t];this.ignore(r)}}},m.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,n=e.length;n>t;t++){var r=e[t];i(r,this.stamps),this.unignore(r)}},m.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=r(e)):void 0},m.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var n=this.stamps[e];this._manageStamp(n)}}},m.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},m.prototype._manageStamp=l,m.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,r=p(e),i={left:t.left-n.left-r.marginLeft,top:t.top-n.top-r.marginTop,right:n.right-t.right-r.marginRight,bottom:n.bottom-t.bottom-r.marginBottom};return i},m.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},m.prototype.bindResize=function(){this.isResizeBound||(n.bind(e,"resize",this),this.isResizeBound=!0)},m.prototype.unbindResize=function(){this.isResizeBound&&n.unbind(e,"resize",this),this.isResizeBound=!1},m.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},m.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},m.prototype.needsResizeLayout=function(){var e=p(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},m.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},m.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},m.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},m.prototype.reveal=function(e){var t=e&&e.length;if(t)for(var n=0;t>n;n++){var r=e[n];r.reveal()}},m.prototype.hide=function(e){var t=e&&e.length;if(t)for(var n=0;t>n;n++){var r=e[n];r.hide()}},m.prototype.getItem=function(e){for(var t=0,n=this.items.length;n>t;t++){var r=this.items[t];if(r.element===e)return r}},m.prototype.getItems=function(e){if(e&&e.length){for(var t=[],n=0,r=e.length;r>n;n++){var i=e[n],s=this.getItem(i);s&&t.push(s)}return t}},m.prototype.remove=function(e){e=r(e);var t=this.getItems(e);if(t&&t.length){this._itemsOn(t,"remove",function(){this.emitEvent("removeComplete",[this,t])});for(var n=0,s=t.length;s>n;n++){var o=t[n];o.remove(),i(o,this.items)}}},m.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,n=this.items.length;n>t;t++){var r=this.items[t];r.destroy()}this.unbindResize(),delete this.element.outlayerGUID,f&&f.removeData(this.element,this.constructor.namespace)},m.data=function(e){var t=e&&e.outlayerGUID;return t&&y[t]},m.create=function(e,n){function r(){m.apply(this,arguments)}return Object.create?r.prototype=Object.create(m.prototype):t(r.prototype,m.prototype),r.prototype.constructor=r,r.defaults=t({},m.defaults),t(r.defaults,n),r.prototype.settings={},r.namespace=e,r.data=m.data,r.Item=function(){v.apply(this,arguments)},r.Item.prototype=new v,o(function(){for(var t=s(e),n=u.querySelectorAll(".js-"+t),i="data-"+t+"-options",o=0,l=n.length;l>o;o++){var c,h=n[o],p=h.getAttribute(i);try{c=p&&JSON.parse(p)}catch(d){a&&a.error("Error parsing "+i+" on "+h.nodeName.toLowerCase()+(h.id?"#"+h.id:"")+": "+d);continue}var v=new r(h,c);f&&f.data(h,e,v)}}),f&&f.bridget&&f.bridget(e,r),r},m.Item=v,m}var u=e.document,a=e.console,f=e.jQuery,l=function(){},c=Object.prototype.toString,h="object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},p=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],o):e.Outlayer=o(e.eventie,e.docReady,e.EventEmitter,e.getSize,e.matchesSelector,e.Outlayer.Item)}(window),function(e){function t(e){function t(){e.Item.apply(this,arguments)}return t.prototype=new e.Item,t.prototype._create=function(){this.id=this.layout.itemGUID++,e.Item.prototype._create.call(this),this.sortData={}},t.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var e=this.layout.options.getSortData,t=this.layout._sorters;for(var n in e){var r=t[n];this.sortData[n]=r(this.element,this)}}},t}"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],t):(e.Isotope=e.Isotope||{},e.Isotope.Item=t(e.Outlayer))}(window),function(e){function t(e,t){function n(e){this.isotope=e,e&&(this.options=e.options[this.namespace],this.element=e.element,this.items=e.filteredItems,this.size=e.size)}return function(){function e(e){return function(){return t.prototype[e].apply(this.isotope,arguments)}}for(var r=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],s=0,o=r.length;o>s;s++){var u=r[s];n.prototype[u]=e(u)}}(),n.prototype.needsVerticalResizeLayout=function(){var t=e(this.isotope.element),n=this.isotope.size&&t;return n&&t.innerHeight!==this.isotope.size.innerHeight},n.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},n.prototype.getSegmentSize=function(e,t){var n=e+t,r="outer"+t;if(this._getMeasurement(n,r),!this[n]){var i=this.getFirstItemSize();this[n]=i&&i[r]||this.isotope.size["inner"+t]}},n.prototype.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&e(t.element)},n.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},n.modes={},n.create=function(e,t){function r(){n.apply(this,arguments)}return r.prototype=new n,t&&(r.options=t),r.prototype.namespace=e,n.modes[e]=r,r},n}"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],t):(e.Isotope=e.Isotope||{},e.Isotope.LayoutMode=t(e.getSize,e.Outlayer))}(window),function(e){function t(e,t){var r=e.create("masonry");return r.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},r.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},r.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},r.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,r=t&&1>t?"round":"ceil",s=Math[r](e.size.outerWidth/this.columnWidth);s=Math.min(s,this.cols);for(var o=this._getColGroup(s),u=Math.min.apply(Math,o),a=n(o,u),f={x:this.columnWidth*a,y:u},l=u+e.size.outerHeight,c=this.cols+1-o.length,h=0;c>h;h++)this.colYs[a+h]=l;return f},r.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],n=this.cols+1-e,r=0;n>r;r++){var i=this.colYs.slice(r,r+e);t[r]=Math.max.apply(Math,i)}return t},r.prototype._manageStamp=function(e){var n=t(e),r=this._getElementOffset(e),i=this.options.isOriginLeft?r.left:r.right,s=i+n.outerWidth,o=Math.floor(i/this.columnWidth);o=Math.max(0,o);var u=Math.floor(s/this.columnWidth);u-=s%this.columnWidth?0:1,u=Math.min(this.cols-1,u);for(var a=(this.options.isOriginTop?r.top:r.bottom)+n.outerHeight,f=o;u>=f;f++)this.colYs[f]=Math.max(a,this.colYs[f])},r.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},r.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},r.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},r}var n=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;r>n;n++){var i=e[n];if(i===t)return n}return-1};"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],t):e.Masonry=t(e.Outlayer,e.getSize)}(window),function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e,n){var r=e.create("masonry"),i=r.prototype._getElementOffset,s=r.prototype.layout,o=r.prototype._getMeasurement;t(r.prototype,n.prototype),r.prototype._getElementOffset=i,r.prototype.layout=s,r.prototype._getMeasurement=o;var u=r.prototype.measureColumns;r.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,u.call(this)};var a=r.prototype._manageStamp;return r.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,a.apply(this,arguments)},r}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],n):n(e.Isotope.LayoutMode,e.Masonry)}(window),function(e){function t(e){var t=e.create("fitRows");return t.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0},t.prototype._getItemLayoutPosition=function(e){e.getSize(),0!==this.x&&e.size.outerWidth+this.x>this.isotope.size.innerWidth&&(this.x=0,this.y=this.maxY);var t={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+e.size.outerHeight),this.x+=e.size.outerWidth,t},t.prototype._getContainerSize=function(){return{height:this.maxY}},t}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],t):t(e.Isotope.LayoutMode)}(window),function(e){function t(e){var t=e.create("vertical",{horizontalAlignment:0});return t.prototype._resetLayout=function(){this.y=0},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=(this.isotope.size.innerWidth-e.size.outerWidth)*this.options.horizontalAlignment,n=this.y;return this.y+=e.size.outerHeight,{x:t,y:n}},t.prototype._getContainerSize=function(){return{height:this.y}},t}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],t):t(e.Isotope.LayoutMode)}(window),function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){return"[object Array]"===l.call(e)}function r(e){var t=[];if(n(e))t=e;else if(e&&"number"==typeof e.length)for(var r=0,i=e.length;i>r;r++)t.push(e[r]);else t.push(e);return t}function i(e,t){var n=c(t,e);-1!==n&&t.splice(n,1)}function s(e,n,s,a,l){function c(e,t){return function(n,r){for(var i=0,s=e.length;s>i;i++){var o=e[i],u=n.sortData[o],a=r.sortData[o];if(u>a||a>u){var f=void 0!==t[o]?t[o]:t,l=f?1:-1;return(u>a?1:-1)*l}}return 0}}var h=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});h.Item=a,h.LayoutMode=l,h.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in l.modes)this._initLayoutMode(t)},h.prototype.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},h.prototype._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),n=0,r=t.length;r>n;n++){var i=t[n];i.id=this.itemGUID++}return this._updateItemsSortData(t),t},h.prototype._initLayoutMode=function(e){var n=l.modes[e],r=this.options[e]||{};this.options[e]=n.options?t(n.options,r):r,this.modes[e]=new n(this)},h.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?(this.arrange(),void 0):(this._layout(),void 0)},h.prototype._layout=function(){var e=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,e),this._isLayoutInited=!0},h.prototype.arrange=function(e){this.option(e),this._getIsInstant(),this.filteredItems=this._filter(this.items),this._sort(),this._layout()},h.prototype._init=h.prototype.arrange,h.prototype._getIsInstant=function(){var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=e,e},h.prototype._filter=function(e){function t(){c.reveal(i),c.hide(s)}var n=this.options.filter;n=n||"*";for(var r=[],i=[],s=[],o=this._getFilterTest(n),u=0,a=e.length;a>u;u++){var f=e[u];if(!f.isIgnored){var l=o(f);l&&r.push(f),l&&f.isHidden?i.push(f):l||f.isHidden||s.push(f)}}var c=this;return this._isInstant?this._noTransition(t):t(),r},h.prototype._getFilterTest=function(e){return o&&this.options.isJQueryFiltering?function(t){return o(t.element).is(e)}:"function"==typeof e?function(t){return e(t.element)}:function(t){return s(t.element,e)}},h.prototype.updateSortData=function(e){this._getSorters(),e=r(e);var t=this.getItems(e);t=t.length?t:this.items,this._updateItemsSortData(t)},h.prototype._getSorters=function(){var e=this.options.getSortData;for(var t in e){var n=e[t];this._sorters[t]=d(n)}},h.prototype._updateItemsSortData=function(e){for(var t=0,n=e.length;n>t;t++){var r=e[t];r.updateSortData()}};var d=function(){function e(e){if("string"!=typeof e)return e;var n=u(e).split(" "),r=n[0],i=r.match(/^\[(.+)\]$/),s=i&&i[1],o=t(s,r),a=h.sortDataParsers[n[1]];return e=a?function(e){return e&&a(o(e))}:function(e){return e&&o(e)}}function t(e,t){var n;return n=e?function(t){return t.getAttribute(e)}:function(e){var n=e.querySelector(t);return n&&f(n)}}return e}();h.sortDataParsers={parseInt:function(e){return parseInt(e,10)},parseFloat:function(e){return parseFloat(e)}},h.prototype._sort=function(){var e=this.options.sortBy;if(e){var t=[].concat.apply(e,this.sortHistory),n=c(t,this.options.sortAscending);this.filteredItems.sort(n),e!==this.sortHistory[0]&&this.sortHistory.unshift(e)}},h.prototype._mode=function(){var e=this.options.layoutMode,t=this.modes[e];if(!t)throw Error("No layout mode: "+e);return t.options=this.options[e],t},h.prototype._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},h.prototype._getItemLayoutPosition=function(e){return this._mode()._getItemLayoutPosition(e)},h.prototype._manageStamp=function(e){this._mode()._manageStamp(e)},h.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},h.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},h.prototype.appended=function(e){var t=this.addItems(e);if(t.length){var n=this._filterRevealAdded(t);this.filteredItems=this.filteredItems.concat(n)}},h.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps();var r=this._filterRevealAdded(t);this.layoutItems(n),this.filteredItems=r.concat(this.filteredItems)}},h.prototype._filterRevealAdded=function(e){var t=this._noTransition(function(){return this._filter(e)});return this.layoutItems(t,!0),this.reveal(t),e},h.prototype.insert=function(e){var t=this.addItems(e);if(t.length){var n,r,i=t.length;for(n=0;i>n;n++)r=t[n],this.element.appendChild(r.element);var s=this._filter(t);for(this._noTransition(function(){this.hide(s)}),n=0;i>n;n++)t[n].isLayoutInstant=!0;for(this.arrange(),n=0;i>n;n++)delete t[n].isLayoutInstant;this.reveal(s)}};var v=h.prototype.remove;return h.prototype.remove=function(e){e=r(e);var t=this.getItems(e);if(v.call(this,e),t&&t.length)for(var n=0,s=t.length;s>n;n++){var o=t[n];i(o,this.filteredItems)}},h.prototype._noTransition=function(e){var t=this.options.transitionDuration;this.options.transitionDuration=0;var n=e.call(this);return this.options.transitionDuration=t,n},h}var o=e.jQuery,u=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},a=document.documentElement,f=a.textContent?function(e){return e.textContent}:function(e){return e.innerText},l=Object.prototype.toString,c=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],s):e.Isotope=s(e.Outlayer,e.getSize,e.matchesSelector,e.Isotope.Item,e.Isotope.LayoutMode)}(window),!function(){function e(r){if(!r)throw new Error("No options passed to Waypoint constructor");if(!r.element)throw new Error("No element option passed to Waypoint constructor");if(!r.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=e.Adapter.extend({},e.defaults,r),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=r.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,t+=1}var t=0,n={};e.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},e.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(e){var t=[];for(var r in n)t.push(n[r]);for(var s=0,o=t.length;o>s;s++)t[s][e]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){e.invokeAll("enable")},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){function e(e){window.setTimeout(e,1e3/60)}function t(e){this.element=e,this.Adapter=i.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,r[e.waypointContextKey]=this,n+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,r={},i=window.Waypoint,s=window.onload;t.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},t.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical);e&&t&&(this.adapter.off(".waypoints"),delete r[this.key])},t.prototype.createThrottledResizeHandler=function(){function e(){t.handleResize(),t.didResize=!1}var t=this;this.adapter.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,i.requestAnimationFrame(e))})},t.prototype.createThrottledScrollHandler=function(){function e(){t.handleScroll(),t.didScroll=!1}var t=this;this.adapter.on("scroll.waypoints",function(){(!t.didScroll||i.isTouch)&&(t.didScroll=!0,i.requestAnimationFrame(e))})},t.prototype.handleResize=function(){i.Context.refreshAll()},t.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in t){var r=t[n],i=r.newScroll>r.oldScroll,s=i?r.forward:r.backward;for(var o in this.waypoints[n]){var u=this.waypoints[n][o],a=r.oldScroll<u.triggerPoint,f=r.newScroll>=u.triggerPoint,l=a&&f,c=!a&&!f;(l||c)&&(u.queueTrigger(s),e[u.group.id]=u.group)}}for(var h in e)e[h].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.innerHeight=function(){return this.element==this.element.window?i.viewportHeight():this.adapter.innerHeight()},t.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},t.prototype.innerWidth=function(){return this.element==this.element.window?i.viewportWidth():this.adapter.innerWidth()},t.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var n in this.waypoints[t])e.push(this.waypoints[t][n]);for(var r=0,i=e.length;i>r;r++)e[r].destroy()},t.prototype.refresh=function(){var e,t=this.element==this.element.window,n=this.adapter.offset(),r={};this.handleScroll(),e={horizontal:{contextOffset:t?0:n.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:n.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var i in e){var s=e[i];for(var o in this.waypoints[i]){var u,a,f,l,c,h=this.waypoints[i][o],p=h.options.offset,d=h.triggerPoint,v=0,m=null==d;h.element!==h.element.window&&(v=h.adapter.offset()[s.offsetProp]),"function"==typeof p?p=p.apply(h):"string"==typeof p&&(p=parseFloat(p),h.options.offset.indexOf("%")>-1&&(p=Math.ceil(s.contextDimension*p/100))),u=s.contextScroll-s.contextOffset,h.triggerPoint=v+u-p,a=d<s.oldScroll,f=h.triggerPoint>=s.oldScroll,l=a&&f,c=!a&&!f,!m&&l?(h.queueTrigger(s.backward),r[h.group.id]=h.group):!m&&c?(h.queueTrigger(s.forward),r[h.group.id]=h.group):m&&s.oldScroll>=h.triggerPoint&&(h.queueTrigger(s.forward),r[h.group.id]=h.group)}}for(var g in r)r[g].flushTriggers();return this},t.findOrCreateByElement=function(e){return t.findByElement(e)||new t(e)},t.refreshAll=function(){for(var e in r)r[e].refresh()},t.findByElement=function(e){return r[e.waypointContextKey]},window.onload=function(){s&&s(),t.refreshAll()},i.requestAnimationFrame=function(t){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e;n.call(window,t)},i.Context=t}(),function(){function e(e,t){return e.triggerPoint-t.triggerPoint}function t(e,t){return t.triggerPoint-e.triggerPoint}function n(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),r[this.axis][this.name]=this}var r={vertical:{},horizontal:{}},i=window.Waypoint;n.prototype.add=function(e){this.waypoints.push(e)},n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},n.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var r=this.triggerQueues[n],i="up"===n||"left"===n;r.sort(i?t:e);for(var s=0,o=r.length;o>s;s+=1){var u=r[s];(u.options.continuous||s===r.length-1)&&u.trigger([n])}}this.clearTriggerQueues()},n.prototype.next=function(t){this.waypoints.sort(e);var n=i.Adapter.inArray(t,this.waypoints),r=n===this.waypoints.length-1;return r?null:this.waypoints[n+1]},n.prototype.previous=function(t){this.waypoints.sort(e);var n=i.Adapter.inArray(t,this.waypoints);return n?this.waypoints[n-1]:null},n.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},n.prototype.remove=function(e){var t=i.Adapter.inArray(e,this.waypoints);t>-1&&this.waypoints.splice(t,1)},n.prototype.first=function(){return this.waypoints[0]},n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},n.findOrCreate=function(e){return r[e.axis][e.name]||new n(e)},i.Group=n}(),function(){function e(e){this.$element=t(e)}var t=window.jQuery,n=window.Waypoint;t.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,n){e.prototype[n]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[n].apply(this.$element,e)}}),t.each(["extend","inArray","isEmptyObject"],function(n,r){e[r]=t[r]}),n.adapters.push({name:"jquery",Adapter:e}),n.Adapter=e}(),function(){function e(e){return function(){var n=[],r=arguments[0];return e.isFunction(arguments[0])&&(r=e.extend({},arguments[1]),r.handler=arguments[0]),this.each(function(){var s=e.extend({},r,{element:this});"string"==typeof s.context&&(s.context=e(this).closest(s.context)[0]),n.push(new t(s))}),n}}var t=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}(),!function(e,t){var n,r;if(e.uaMatch=function(e){e=e.toLowerCase();var t=/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n=/(ipad)/.exec(e)||/(iphone)/.exec(e)||/(android)/.exec(e)||/(windows phone)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/i.exec(e)||[];return{browser:t[3]||t[1]||"",version:t[2]||"0",platform:n[0]||""}},n=e.uaMatch(t.navigator.userAgent),r={},n.browser&&(r[n.browser]=!0,r.version=n.version,r.versionNumber=parseInt(n.version)),n.platform&&(r[n.platform]=!0),(r.android||r.ipad||r.iphone||r["windows phone"])&&(r.mobile=!0),(r.cros||r.mac||r.linux||r.win)&&(r.desktop=!0),(r.chrome||r.opr||r.safari)&&(r.webkit=!0),r.rv){var i="msie";n.browser=i,r[i]=!0}if(r.opr){var s="opera";n.browser=s,r[s]=!0}if(r.safari&&r.android){var o="android";n.browser=o,r[o]=!0}r.name=n.browser,r.platform=n.platform,e.browser=r}(jQuery,window),function(){var e=0,t=["ms","moz","webkit","o"];for(var n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),s=window.setTimeout(function(){t(r+i)},i);return e=r+i,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),jQuery.expr[":"].regex=function(e,t,n){var r=n[3].split(","),i=/^(data|css):/,s={method:r[0].match(i)?r[0].split(":")[0]:"attr",property:r.shift().replace(i,"")},o="ig",u=new RegExp(r.join("").replace(/^\s+|\s+$/g,""),o);return u.test(jQuery(e)[s.method](s.property))};